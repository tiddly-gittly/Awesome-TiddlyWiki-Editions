{"title":"$:/plugins/sycom/atom-feed","description":"Atom feed","author":"Sylvain Comte","version":"0.0.2","core-version":">=5.0.0","source":"https://framagit.org/sycom/TiddlyWiki-Plugins","plugin-type":"plugin","list":"readme usage","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"Working on atom feed\":{\"title\":\"Working on atom feed\",\"created\":\"20190406203049600\",\"modified\":\"20190407152226190\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Since i'm not getting all the purpose of the pretty complex Dullroar's https://github.com/dullroar/TW5-atomfeed/ let's try de deploy a very lightweight version.\\n\\nWhat we need :\\n\\n* a [[global template|$:/plugins/sycom/atom-feed/atom.xml]] for the atom.xml output file\\n* a template [[for each item|$:/plugins/sycom/atom-feed/templates/itemfeed]] of the feed\\n* a [[list of lattest tiddlers|$:/plugins/sycom/atom-feed/entrylist]] based upon this template (and maybe latest updated tiddlers?).\\n* a $:/plugins/sycom/atom-feed/publicationWebsite parameter\\n* an information for bots and browser through a //rawMarkup// tagged [[tiddler|$:/plugins/sycom/atom-feed/rel-alternate]]\\n\\nStarting example from [[RFC 4287|https://tools.ietf.org/html/rfc4287]]\\n\\n```\\n<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n   <feed xmlns=\\\"http://www.w3.org/2005/Atom\\\">\\n     <title type=\\\"text\\\">dive into mark</title>\\n     <subtitle type=\\\"html\\\">\\n       A &lt;em&gt;lot&lt;/em&gt; of effort\\n       went into making this effortless\\n     </subtitle>\\n     <updated>2005-07-31T12:29:29Z</updated>\\n     <id>tag:example.org,2003:3</id>\\n     <link rel=\\\"alternate\\\" type=\\\"text/html\\\"\\n      hreflang=\\\"en\\\" href=\\\"http://example.org/\\\"/>\\n     <link rel=\\\"self\\\" type=\\\"application/atom+xml\\\"\\n      href=\\\"http://example.org/feed.atom\\\"/>\\n     <rights>Copyright (c) 2003, Mark Pilgrim</rights>\\n     <generator uri=\\\"http://www.example.com/\\\" version=\\\"1.0\\\">\\n       Example Toolkit\\n     </generator>\\n     <entry>\\n       <title>Atom draft-07 snapshot</title>\\n       <link rel=\\\"alternate\\\" type=\\\"text/html\\\"\\n        href=\\\"http://example.org/2005/04/02/atom\\\"/>\\n       <link rel=\\\"enclosure\\\" type=\\\"audio/mpeg\\\" length=\\\"1337\\\"\\n        href=\\\"http://example.org/audio/ph34r_my_podcast.mp3\\\"/>\\n       <id>tag:example.org,2003:3.2397</id>\\n       <updated>2005-07-31T12:29:29Z</updated>\\n       <published>2003-12-13T08:29:29-04:00</published>\\n       <author>\\n         <name>Mark Pilgrim</name>\\n         <uri>http://example.org/</uri>\\n         <email>f8dy@example.com</email>\\n       </author>\\n       <contributor>\\n         <name>Sam Ruby</name>\\n       </contributor>\\n       <contributor>\\n         <name>Joe Gregorio</name>\\n       </contributor>\\n       <content type=\\\"xhtml\\\" xml:lang=\\\"en\\\"\\n        xml:base=\\\"http://diveintomark.org/\\\">\\n         <div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">\\n           <p><i>[Update: The Atom draft is finished.]</i></p>\\n         </div>\\n       </content>\\n     </entry>\\n   </feed>\\n```\"},\"$:/plugins/sycom/atom-feed/i18n/en-GB/usage\":{\"title\":\"$:/plugins/sycom/atom-feed/i18n/en-GB/usage\",\"type\":\"text/vnd.tiddlywiki\",\"caption\":\"Usage\",\"text\":\"Once plugin is installed, set your website address and numbers of latest tiddlers to list here\\n\\n* website url <$edit-text tiddler=\\\"$:/plugins/sycom/atom-feed/publicationWebsite\\\" field=\\\"caption\\\" tag=\\\"input\\\"/>\\n\\n* tiddlers number <$edit-text tiddler=\\\"$:/plugins/sycom/atom-feed/entrylist\\\" field=\\\"caption\\\" tag=\\\"input\\\"/>\\n\\nThen add this line to your build command (in tiddlywiki.info file)\\n\\n```\\n\\\"feed\\\": [\\n  \\\"--rendertiddler\\\",\\\"$:/plugins/sycom/atom-feed/atom.xml\\\",\\\"atom.xml\\\",\\\"text/plain\\\"]\\n```\\n\"},\"$:/plugins/sycom/atom-feed/i18n/fr-FR/readme\":{\"title\":\"$:/plugins/sycom/atom-feed/i18n/fr-FR/readme\",\"text\":\"Le [plugin atom feed](#$:/plugins/sycom/atom-feed) permet d'ajouter un flux atom ([RFC 4287][RFC]) à votre TiddlyWiki au moment de sa construction (commande `build`). Il crée un fichier `atom.xml` contenant la liste des xx derniers articles de votre wiki.\\n\\n## Sources / licenses\\n* le **plugin atom feed** est sous une [licence BSD 3-Clause][license] similaire à celle de TiddlyWiki\\n\\n[RFC]: https://tools.ietf.org/html/rfc4287\\n[license]: https://framagit.org/sycom/TiddlyWiki-Plugins/LICENSE.md\\n\",\"type\":\"text/x-markdown\",\"caption\":\"Readme\"},\"$:/plugins/sycom/atom-feed/i18n/fr-FR/usage\":{\"title\":\"$:/plugins/sycom/atom-feed/i18n/fr-FR/usage\",\"type\":\"text/vnd.tiddlywiki\",\"caption\":\"Usage\",\"text\":\"Une fois le plugin installé, indiquez l'adresse de publication de votre site et le nombre des derniers tiddlers à faire apparaitre dans le flux ici\\n\\n* url du site web <$edit-text tiddler=\\\"$:/plugins/sycom/atom-feed/publicationWebsite\\\" field=\\\"caption\\\" tag=\\\"input\\\"/>\\n\\n* nombre de tiddlers <$edit-text tiddler=\\\"$:/plugins/sycom/atom-feed/entrylist\\\" field=\\\"caption\\\" tag=\\\"input\\\"/>\\n\\nEnsuite ajoutez cette ligne à votre commande `build` (dans le fichier tiddlywiki.info)\\n\\n```\\n\\\"feed\\\": [\\n  \\\"--rendertiddler\\\",\\\"$:/plugins/sycom/atom-feed/atom.xml\\\",\\\"atom.xml\\\",\\\"text/plain\\\"]\\n```\\n\"},\"$:/core/macros/i18n\":{\"author\":\"@sycom\",\"created\":\"20191009144004451\",\"modified\":\"20191011145435763\",\"tags\":\"$:/tags/Macro\",\"title\":\"$:/core/macros/i18n\",\"type\":\"application/javascript\",\"version\":\"1.0.0-pre2\",\"text\":\"\\\\define i18nOriginal(title domain orig_lang lang mode)\\n<$list filter=\\\"[<__title__>addprefix[/]addprefix<__orig_lang__>addprefix[/i18n/]addprefix<__domain__>is[tiddler]] [<__title__>addprefix[/]addprefix<__orig_lang__>addprefix[/i18n/]addprefix<__domain__>is[shadow]]\\\">\\n<$transclude mode=<<__mode__>> />\\n</$list>\\n<$list filter=\\\"[<__title__>addprefix[/]addprefix<__orig_lang__>addprefix[/i18n/]addprefix<__domain__>is[missing]]-[<__title__>addprefix[/]addprefix<__orig_lang__>addprefix[/i18n/]addprefix<__domain__>is[shadow]]\\\">\\n<div class=\\\"tc-message-box\\\">\\n//<<__orig_lang__>>// original is missing, please create it at <$link to=<<currentTiddler>>><$text text=<<currentTiddler>> /></$link></div>\\n</$list>\\n\\\\end\\n\\n\\\\define i18nTranslation(title domain orig_lang lang mode)\\n<$list filter=\\\"[<__title__>addprefix[/]addprefix<__lang__>addprefix[/i18n/]addprefix<__domain__>is[tiddler]] [<__title__>addprefix[/]addprefix<__lang__>addprefix[/i18n/]addprefix<__domain__>is[shadow]]\\\">\\n<$transclude mode=<<__mode__>> />\\n</$list>\\n<$list filter=\\\"[<__title__>addprefix[/]addprefix<__lang__>addprefix[/i18n/]addprefix<__domain__>is[missing]]-[<__title__>addprefix[/]addprefix<__lang__>addprefix[/i18n/]addprefix<__domain__>is[shadow]]\\\">\\n<$set name=\\\"target\\\" value=<<currentTiddler>>>\\n<$list filter=\\\"[<__lang__>search<__orig_lang__>]\\\">\\n<$macrocall $name=\\\"i18nOriginal\\\" title=<<__title__>> domain=<<__domain__>> orig_lang=<<__orig_lang__>> lang=<<__lang__>> mode=<<__mode__>>/>\\n</$list>\\n<$list filter=\\\"[<__lang__>!search<__orig_lang__>]\\\">\\n<div class=\\\"tc-message-box\\\">//<<__lang__>>// translation is missing, you may create it at <$link to=<<target>>><$text text=<<target>> /></$link></div>\\n<div lang=<<__orig_lang__>>>\\n<$macrocall $name=\\\"i18nOriginal\\\" title=<<__title__>> domain=<<__domain__>> orig_lang=<<__orig_lang__>> lang=<<__lang__>> mode=<<__mode__>> />\\n</div>\\n</$list>\\n</$set>\\n</$list>\\n\\\\end\\n\\n\\\\define i18n(title domain:\\\"$:\\\" orig_lang:\\\"en-GB\\\" mode:\\\"block\\\")\\n<$set name=\\\"title\\\" value=<<__title__>> emptyValue=<<currentTiddler>>>\\n<$set name=\\\"lg-LG\\\" tiddler={{$:/language}} field=\\\"name\\\" emptyValue=\\\"en-GB\\\">\\n<$macrocall $name=\\\"i18nTranslation\\\" title=<<title>> domain=<<__domain__>> orig_lang=<<__orig_lang__>> lang=<<lg-LG>> mode=<<__mode__>>/>\\n</$set>\\n</$set>\\n\\\\end\\n\",\"module-type\":\"macro\"},\"$:/plugins/sycom/atom-feed/i18n/en-GB/readme\":{\"title\":\"$:/plugins/sycom/atom-feed/i18n/en-GB/readme\",\"text\":\"The [atom feed plugin](#$:/plugins/sycom/atom-feed) will help adding an atom ([RFC 4287][RFC]) feed to your TiddlyWiki when you //build// it. It will create an `atom.xml` file with the list of latest xx tiddlers of your wiki.\\n\\n## Sources / licenses\\n* **atom feed plugin** is released under similar [BSD 3-Clause license][license] as TiddlyWiki\\n\\n[RFC]: https://tools.ietf.org/html/rfc4287\\n[license]: https://framagit.org/sycom/TiddlyWiki-Plugins/LICENSE.md\\n\",\"type\":\"text/x-markdown\",\"created\":\"20190321120000000\",\"modified\":\"20190328144500000\",\"caption\":\"Readme\"},\"$:/plugins/sycom/atom-feed/readme\":{\"title\":\"$:/plugins/sycom/atom-feed/readme\",\"caption\":\"Readme\",\"text\":\"<<i18n readme $:/plugins/sycom/atom-feed>>\\n\"},\"$:/plugins/sycom/atom-feed/atom.xml\":{\"title\":\"$:/plugins/sycom/atom-feed/atom.xml\",\"created\":\"20190406214444000\",\"modified\":\"20190407150839004\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\rules only filteredtranscludeinline transcludeinline\\n<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n   <feed xmlns=\\\"http://www.w3.org/2005/Atom\\\">\\n     <title type=\\\"html\\\">{{$:/SiteTitle}}</title>\\n     <subtitle type=\\\"html\\\">{{$:/SiteSubtitle}}</subtitle>\\n     <updated>{{$:/plugins/sycom/atom-feed/publicationDate}}</updated>\\n     <id>{{$:/plugins/sycom/atom-feed/publicationWebsite}}</id>\\n     <link rel=\\\"alternate\\\" type=\\\"text/html\\\"\\n      hreflang=\\\"{{$:/plugins/sycom/atom-feed/wikiLang}}\\\" href=\\\"{{$:/plugins/sycom/atom-feed/publicationWebsite}}\\\"/>\\n     <link rel=\\\"self\\\" type=\\\"application/atom+xml\\\"\\n      href=\\\"{{$:/plugins/sycom/atom-feed/publicationWebsite}}/atom.xml\\\"/>\\n     <rights></rights>\\n     <generator uri=\\\"https://sycom.gitlab.io/TiddlyWiki-Plugins/#AtomFeed%20Plugin\\\" version=\\\"{{$:/plugins/sycom/atom-feed!!version}}\\\">\\n       Sycom's AtomFeed TiddlyWiki plugin\\n     </generator>\\n\\n{{$:/plugins/sycom/atom-feed/entrylist}}\\n\\n</feed>\\n\"},\"$:/plugins/sycom/atom-feed/entrylist\":{\"title\":\"$:/plugins/sycom/atom-feed/entrylist\",\"created\":\"20190407141826200\",\"modified\":\"20190407145916341\",\"caption\":\"25\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define feedFilter() [all[tiddlers]![This wiki uses Google analytics]!prefix[Draft of ]!prefix[$:/]!prefix[-$:/]!sort[created]limit[$(numFeed)$]]\\n\\n<$set name=numFeed value={{!!caption}}>\\n\\n<$list filter=<<feedFilter>> template=\\\"$:/plugins/sycom/atom-feed/templates/itemfeed\\\">\\n\\n</$list>\\n</$set>\\n\"},\"$:/plugins/sycom/atom-feed/templates/itemfeed\":{\"title\":\"$:/plugins/sycom/atom-feed/templates/itemfeed\",\"created\":\"20190406210152700\",\"modified\":\"20190407150714665\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"`<entry>\\n   <title>`<$view field=\\\"caption\\\">{{!!title}}</$view>`</title>\\n       <link rel=\\\"alternate\\\" type=\\\"text/html\\\"\\n        href=\\\"`<$text text={{$:/plugins/sycom/atom-feed/publicationWebsite!!caption}}/>/#{{!!title}}`\\\"/>\\n       <id>`{{!!title}}`</id>\\n       <updated>`<$view field=modified format=date template=\\\"YYYY-0MM-0DDT0hh:0mm:0ss\\\"/>`</updated>\\n       <published>`<$view field=created format=date template=\\\"YYYY-0MM-0DDT0hh:0mm:0ss\\\"/>`</published>\\n       <author>\\n         <name>`{{!!modifier}}`</name>\\n       </author>\\n       <content type=\\\"html\\\">\\n\\n`\\n          <$view field=\\\"text\\\" format=\\\"htmlwikified\\\"/>\\n       `</content>\\n</entry>`\\n\"},\"$:/plugins/sycom/atom-feed/usage\":{\"title\":\"$:/plugins/sycom/atom-feed/usage\",\"caption\":\"Usage\",\"text\":\"<<i18n usage $:/plugins/sycom/atom-feed>>\\n\"},\"$:/plugins/sycom/atom-feed/publicationDate\":{\"title\":\"$:/plugins/sycom/atom-feed/publicationDate\",\"created\":\"20190407150203600\",\"modified\":\"20190407150231675\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<<now YYYY-0MM-0DDT0hh:0mm:0ss>>\\n\"},\"$:/plugins/sycom/atom-feed/publicationWebsite\":{\"title\":\"$:/plugins/sycom/atom-feed/publicationWebsite\",\"created\":\"20190407150203600\",\"modified\":\"20190407150231675\",\"type\":\"text/vnd.tiddlywiki\",\"caption\":\"https://sycom.gitlab.io/TiddlyWiki-Plugins\",\"text\":\"Please set url in caption field\\n\"},\"$:/plugins/sycom/atom-feed/rel-alternate\":{\"title\":\"$:/plugins/sycom/atom-feed/rel-alternate\",\"created\":\"20190407151615100\",\"modified\":\"20190407152216117\",\"tags\":\"$:/tags/RawMarkup\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<link rel=\\\"alternate\\\" type=\\\"application/atom+xml\\\" title=\\\"last published - feed\\\" href=\\\"./atom.xml\\\" />\"},\"$:/plugins/sycom/atom-feed/wikiLang\":{\"title\":\"$:/plugins/sycom/atom-feed/wikiLang\",\"created\":\"20190407151615100\",\"modified\":\"20190407152216117\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$view field=name tiddler={{$:/language}}>en-GB</$view>\\n\"}}}","revision":"0","bag":"default","name":"atom-feed"}