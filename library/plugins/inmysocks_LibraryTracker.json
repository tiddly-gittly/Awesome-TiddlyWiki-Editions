{"title":"$:/plugins/inmysocks/LibraryTracker","description":"A library tracker for TiddlyWiki","author":"inmysocks","version":"0.1.0","core-version":">=5.1.6","source":"https://github.com/inmysocks/TW5-NoLearningRequired-Full","plugin-type":"plugin","dependents":"","type":"application/json","text":"{\n    \"tiddlers\": {\n        \"$:/plugins/inmysocks/LibraryTracker/Add Books\": {\n            \"caption\": \"Add Books\",\n            \"created\": \"20141227050110053\",\n            \"modified\": \"20150202040250468\",\n            \"title\": \"$:/plugins/inmysocks/LibraryTracker/Add Books\",\n            \"text\": \"\\\\define thisSeriesSelect()\\n<$select tiddler='$:/temp/newbook' field='series' default='None'>\\n<$list filter='[[$:/data/SeriesTitles]indexes[]sort[title]regexp:[(?i)$(thisSeriesSearch)$]]'>\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\n\\\\define thisGenreSelect()\\n<$select tiddler='$:/temp/newbook' field='genre' default='None'>\\n<$list filter='[[$:/data/BookGenres]indexes[]sort[title]regexp:[(?i)$(thisGenreSearch)$]]'>\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\n\\\\define thisAuthorSelect()\\n<$select tiddler='$:/temp/newbook' field='author' default='None'>\\n<$list filter='[[$:/data/BookAuthors]indexes[]sort[title]regexp:[(?i)$(thisAuthorSearch)$]]'>\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\n\\\\define thisLocationSelect()\\n<$select tiddler='$:/temp/newbook' field='location' default='None'>\\n<$list filter='[[$:/data/BookLocations]indexes[]sort[title]regexp:[(?i)$(thisLocationSearch)$]]'>\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\n\\\\define thisTagSelect()\\n<$select tiddler='$:/state/booktag' field='selected_tag'>\\n<$list filter='[[$:/data/BookTags]indexes[]sort[title]regexp:[(?i)$(thisTagSearch)$]]'>\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\nAdding books:\\n\\n<!--Title-->\\nTitle: <$edit-text tiddler='$:/state/newbook' field='book_title' class='tc-edit-texteditor' placeholder='Book Title'/>\\n<!--End Title-->\\n<!--Author-->\\n<$reveal type=match text=true state='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!show_author'>\\nAuthor: <$reveal state='$:/state/Library Tracker/add author' type=nomatch text='new'>\\n<$set name=thisAuthorSearch value={{$:/state/newbook!!narrow_author_select}}>\\n<<thisAuthorSelect>></$set> <$edit-text tiddler='$:/state/newbook' field='narrow_author_select' placeholder='Narrow Author List'/> (<$button set='$:/state/Library Tracker/add author' setTo='new'>New Author</$button>)\\n</$reveal>\\n<$reveal state='$:/state/Library Tracker/add author' type=match text='new'>\\n<$edit-text tiddler='$:/state/newbook' field='book_author' placeholder='Author'/><$button><$action-setfield $tiddler='$:/data/BookAuthors' $index={{$:/state/newbook!!book_author}} $value=1/><$action-setfield $tiddler='$:/state/newbook' $field='book_author' $value=''/>Add</$button><$button set='$:/state/Library Tracker/add author' setTo='notnew'>Done</$button>\\n</$reveal><br>\\n</$reveal>\\n<!--End Author-->\\n<!--Series-->\\n<$reveal type=match text=true state='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!show_series'>\\nSeries: <$reveal state='$:/state/Library Tracker/add series' type=nomatch text='new'>\\n<$set name=thisSeriesSearch value={{$:/state/newbook!!narrow_series_select}}>\\n<<thisSeriesSelect>></$set> <$edit-text tiddler='$:/state/newbook' field='narrow_series_select' placeholder='Narrow Series List'/>  (<$button set='$:/state/Library Tracker/add series' setTo='new'>New Series</$button>)\\n</$reveal>\\n<$reveal state='$:/state/Library Tracker/add series' type=match text='new'>\\n<$edit-text tiddler='$:/state/newbook' field='book_series' placeholder='Series Title'/><$button><$action-setfield $tiddler='$:/data/SeriesTitles' $index={{$:/state/newbook!!book_series}} $value=1/><$action-setfield $tiddler='$:/state/newbook' $field='book_series' $value=''/>Add</$button><$button set='$:/state/Library Tracker/add series' setTo='notnew'>Done</$button>\\n</$reveal><br>\\n</$reveal>\\n<!--End Series-->\\n<!--Genre-->\\n<$reveal type=match text=true state='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!show_genre'>\\nGenre: <$reveal state='$:/state/Library Tracker/add genre' type=nomatch text='new'>\\n<$set name=thisGenreSearch value={{$:/state/newbook!!narrow_genre_select}}>\\n<<thisGenreSelect>></$set> <$edit-text tiddler='$:/state/newbook' field='narrow_genre_select' placeholder='Narrow Genre List'/> (<$button set='$:/state/Library Tracker/add genre' setTo='new'>New Genre</$button>)\\n</$reveal>\\n<$reveal state='$:/state/Library Tracker/add genre' type=match text='new'>\\n<$edit-text tiddler='$:/state/newbook' field='book_genre' placeholder='Genre'/><$button><$action-setfield $tiddler='$:/data/BookGenres' $index={{$:/state/newbook!!book_genre}} $value=1/><$action-setfield $tiddler='$:/state/newbook' $field='book_genre' $value=''/>Add</$button><$button set='$:/state/Library Tracker/add genre' setTo='notnew'>Done</$button>\\n</$reveal><br>\\n</$reveal>\\n<!--End Genre-->\\n<!--Location-->\\n<$reveal type=match text=true state='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!show_location'>\\nLocaction: <$reveal state='$:/state/Library Tracker/add location' type=nomatch text='new'>\\n<$set name=thisLocationSearch value={{$:/state/newbook!!narrow_location_select}}>\\n<<thisLocationSelect>></$set> <$edit-text tiddler='$:/state/newbook' field='narrow_location_select' placeholder='Narrow Location List'/> (<$button set='$:/state/Library Tracker/add location' setTo='new'>New  Location</$button>)\\n</$reveal>\\n<$reveal state='$:/state/Library Tracker/add location' type=match text='new'>\\n<$edit-text tiddler='$:/state/newbook' field='book_location' placeholder='Location'/><$button><$action-setfield $tiddler='$:/data/BookLocations' $index={{$:/state/newbook!!book_location}} $value=1/><$action-setfield $tiddler='$:/state/newbook' $field='book_location' $value=''/>Add</$button><$button set='$:/state/Library Tracker/add location' setTo='notnew'>Done</$button>\\n</$reveal>\\n</$reveal>\\n<!--End Location-->\\n\\n\\n<!--Tags-->\\n<$reveal type=match text=true state='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!show_tags'>\\nTags (it will always be tagged with `Book` by default):<br>\\n<$reveal type=match state='$:/state/newbook!!add_or_create_tag' text='create'>\\nNew Tag: <$edit-text tiddler='$:/state/booktag' field='tag_temp' placeholder='New Tag'/>\\n<$button>Create Tag\\n<$action-setfield $tiddler='$:/data/BookTags' $index={{$:/state/booktag!!tag_temp}} $value=1/>\\n<$action-setfield $tiddler='$:/state/booktag' $field='tag_temp' $value=''/>\\n</$button>\\n<$button set='$:/state/newbook!!add_or_create_tag' setTo='nocreate'>Done</$button><br>\\n</$reveal>\\n<$reveal type='nomatch' state='$:/state/newbook!!add_or_create_tag' text='create'>\\nTag to add: \\n<$set name=thisTagSearch value={{$:/state/newbook!!narrow_tag_select}}>\\n<<thisTagSelect>>\\n</$set>\\n<$fieldmangler tiddler='$:/temp/newbook'>\\n<$button>\\n<$action-sendmessage $message='tm-add-tag' $param={{$:/state/booktag!!selected_tag}}/>Add Tag\\n</$button>\\n<$edit-text tiddler='$:/state/newbook' field='narrow_tag_select' placeholder='Narrow Tag List'/>\\n(<$button set='$:/state/newbook!!add_or_create_tag' setTo='create'>New Tag</$button>)\\n</$fieldmangler>\\n<br>\\n</$reveal>\\nList of current tags:<br>\\n<$fieldmangler tiddler='$:/temp/newbook'>\\n<$list filter='[[$:/temp/newbook]tags[]]'><$view field='title'/> <$button>Remove Tag<$action-sendmessage $message='tm-remove-tag' $param=<<currentTiddler>>/></$button><br> </$list>\\n</$fieldmangler>\\n</$reveal>\\n\\n<$fieldmangler tiddler={{$:/state/newbook!!book_title}}>\\n<$button>\\n<$action-setfield $tiddler='$:/temp/newbook' title={{$:/state/newbook!!book_title}}/>\\n<$action-sendmessage $message='tm-add-tag' $param='Book'/>\\n<$action-setfield $tiddler='$:/state/newbook' book_title=''/>\\n<$action-setfield $tiddler='$:/temp/newbook' tags=''/>\\nAdd Book</$button>\\n</$fieldmangler>\"\n        },\n        \"$:/plugins/inmysocks/LibraryTracker/Book List\": {\n            \"caption\": \"Book List\",\n            \"created\": \"20141227230158171\",\n            \"modified\": \"20150202035414054\",\n            \"title\": \"$:/plugins/inmysocks/LibraryTracker/Book List\",\n            \"text\": \"\\\\define thisBookList()\\n<$list filter='[tag[Book]$(SelectedFilterPart)$sort[$(sortType)$]regexp:$(searchField)$[(?i)$(thisSearch)$]]' variable=CurrentBook>\\n\\t<tr>\\n\\t\\t<td>\\n\\t\\t\\t<$link to=<<CurrentBook>>>\\n\\t\\t\\t\\t<$view tiddler=<<CurrentBook>> field='title'/>\\n\\t\\t\\t</$link>\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<$view tiddler=<<CurrentBook>> field=author/>\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<<thisSetLocation>>\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<$view tiddler=<<CurrentBook>> field=series/>\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<$view tiddler=<<CurrentBook>> field=genre/>\\n\\t\\t</td>\\n\\t</tr>\\n</$list>\\n\\\\end\\n\\n\\\\define thisBookList2()\\n<$list filter='[tag[Book]sort[$(sortType)$]regexp:$(searchField)$[(?i)$(thisSearch)$]]' variable=CurrentBook>\\n\\t<tr>\\n\\t\\t<td>\\n\\t\\t\\t<$link to=<<CurrentBook>>>\\n\\t\\t\\t\\t<$view tiddler=<<CurrentBook>> field='title'/>\\n\\t\\t\\t</$link>\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<$view tiddler=<<CurrentBook>> field=author/>\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<<thisSetLocation>>\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<$view tiddler=<<CurrentBook>> field=series/>\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<$view tiddler=<<CurrentBook>> field=genre/>\\n\\t\\t</td>\\n\\t</tr>\\n</$list>\\n\\\\end\\n\\n\\\\define thisSelectThing()\\n<$reveal type='match' state='$:/state/newbook!!sort' text='author'>\\n\\t<$select tiddler='$:/state/newbook' field='selected_type'>\\n\\t<option value=''>\\n\\t\\tAll\\n\\t</option>\\n\\t\\t<$list filter='[[$:/data/BookAuthors]indexes[]]'>\\n\\t\\t\\t<option>\\n\\t\\t\\t\\t<$view field='title'/>\\n\\t\\t\\t</option>\\n\\t\\t</$list>\\n\\t</$select>\\n</$reveal>\\n<$reveal type='match' state='$:/state/newbook!!sort' text='genre'>\\n\\t<$select tiddler='$:/state/newbook' field='selected_type'>\\n\\t\\t<option value=''>\\n\\t\\t\\tAll\\n\\t\\t</option>\\n\\t\\t<$list filter='[[$:/data/BookGenres]indexes[]]'>\\n\\t\\t\\t<option>\\n\\t\\t\\t\\t<$view field='title'/>\\n\\t\\t\\t</option>\\n\\t\\t</$list>\\n\\t</$select>\\n</$reveal>\\n<$reveal type='match' state='$:/state/newbook!!sort' text='series'>\\n\\t<$select tiddler='$:/state/newbook' field='selected_type'>\\n\\t\\t<option value=''>\\n\\t\\t\\tAll\\n\\t\\t</option>\\n\\t\\t<$list filter='[[$:/data/SeriesTitles]indexes[]]'>\\n\\t\\t\\t<option>\\n\\t\\t\\t\\t<$view field='title'/>\\n\\t\\t\\t</option>\\n\\t\\t</$list>\\n\\t</$select>\\n</$reveal>\\n<$reveal type='match' state='$:/state/newbook!!sort' text='location'>\\n\\t<$select tiddler='$:/state/newbook' field='selected_type'>\\n\\t\\t<option value=''>\\n\\t\\t\\tAll\\n\\t\\t</option>\\n\\t\\t<$list filter='[[$:/data/BookLocations]indexes[]]'>\\n\\t\\t\\t<option>\\n\\t\\t\\t\\t<$view field='title'/>\\n\\t\\t\\t</option>\\n\\t\\t</$list>\\n\\t</$select>\\n</$reveal>\\n\\\\end\\n\\n\\\\define thisMakeSelectedValue()\\n$(sortType)$[$(SelectedType)$]\\n\\\\end\\n\\n\\\\define count1()\\n<$count filter='[tag[Book]$(SelectedFilterPart)$sort[$(sortType)$]regexp:$(searchField)$[(?i)$(thisSearch)$]]'/>\\n\\\\end\\n\\n\\\\define count2()\\n<$count filter='[tag[Book]sort[$(sortType)$]regexp:$(searchField)$[(?i)$(thisSearch)$]]'/>\\n\\\\end\\n\\n\\\\define thisSetLocation()\\n<$reveal type='nomatch' state=\\\"\\\"\\\"$:/state/Library Tracker/$(CurrentBook)$\\\"\\\"\\\" text='edit'>\\n\\t<$button class='tc-btn-invisible' set=\\\"\\\"\\\"$:/state/Library Tracker/$(CurrentBook)$\\\"\\\"\\\" setTo='edit'>\\n\\t\\t<$view tiddler=\\\"\\\"\\\"$(CurrentBook)$\\\"\\\"\\\" field=location/>\\n\\t</$button>\\n</$reveal>\\n<$reveal type='match' state=\\\"\\\"\\\"$:/state/Library Tracker/$(CurrentBook)$\\\"\\\"\\\" text='edit'>\\n\\t<$button class='tc-btn-invisible' set=\\\"\\\"\\\"$:/state/Library Tracker/$(CurrentBook)$\\\"\\\"\\\" setTo='noedit'>\\n\\t\\t{{$:/core/images/done-button}}\\n\\t</$button>\\n\\t<$select tiddler=\\\"\\\"\\\"$(CurrentBook)$\\\"\\\"\\\" field='location'>\\n\\t\\t<$list filter='[[$:/data/BookLocations]indexes[]]'>\\n\\t\\t\\t<option>\\n\\t\\t\\t\\t<<currentTiddler>>\\n\\t\\t\\t</option>\\n\\t\\t</$list>\\n\\t</$select>\\n</$reveal>\\n\\\\end\\n\\nIf you select an author/series/location/genre from the drop down menu, then change the `Sort by` option you will have to select from the second dropdown menu again to get it to display things. Despite it showing `all` when you change the sort by option it keeps the previous value, which is invalid now. If I can get a select widget to active action widgets, or to change multiple fields at the same time than I can fix this.\\n\\nIf you click on the location of a book it will allow you to change the books location.\\n\\n|Sort by |<$select tiddler='$:/state/newbook' field='sort' default='title'><option value='author'>Author</option><option value='genre'>Genre</option><option value='series'>Series</option><option value='title'>Title</option><option value=location>Location</option></$select>|<<thisSelectThing>>|\\n|Search by |<$select tiddler='$:/state/newbook' field='search_in' default='title'><option value='author'>Author</option><option value='genre'>Genre</option><option value='series'>Series</option><option value='tags'>Tag</option><option value='title'>Title</option><option value=location>Location</option></$select>|<$edit-text tiddler='$:/state/newbook' field='search_text' placeholder='Search'/>|\\n\\n<$set name=sortType value={{$:/state/newbook!!sort}}>\\n<$set name=searchField value={{$:/state/newbook!!search_in}}>\\n<$set name=thisSearch value={{$:/state/newbook!!search_text}}>\\n<$set name=SelectedType value={{$:/state/newbook!!selected_type}}>\\n<$set name=SelectedFilterPart value=<<thisMakeSelectedValue>>>\\n\\n<$reveal type='nomatch' state='$:/state/newbook!!selected_type' text=''>\\nNumber of matching books: <<count1>>\\n<table>\\n<tr><th>Title</th><th>Author</th><th>Location</th><th>Series</th><th>Genre</th></tr>\\n<<thisBookList>>\\n</table>\\n</$reveal>\\n<$reveal type='match' state='$:/state/newbook!!selected_type' text=''>\\nNumber of matching books: <<count2>>\\n<table>\\n<tr><th>Title</th><th>Author</th><th>Location</th><th>Series</th><th>Genre</th></tr>\\n<<thisBookList2>>\\n</table>\\n</$reveal>\\n\\n</$set>\\n</$set>\\n</$set>\\n</$set>\\n</$set>\"\n        },\n        \"$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings\": {\n            \"caption\": \"Settings\",\n            \"created\": \"20150122105554017\",\n            \"edit_author_list\": \"blerg\",\n            \"modified\": \"20150130025204191\",\n            \"show_author\": \"true\",\n            \"show_genre\": \"true\",\n            \"show_location\": \"true\",\n            \"show_series\": \"true\",\n            \"show_tags\": \"true\",\n            \"title\": \"$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings\",\n            \"text\": \"\\\\define thisRemoveAuthor()\\nSelect Author: <$select tiddler='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings' field='edit_author_list'><$list filter='[[$:/data/BookAuthors]indexes[]]'><option><<currentTiddler>></option></$list></$select> <$button set='$:/data/BookAuthors##$(AuthorToRemove)$'>Remove Author</$button>\\n\\\\end\\n\\n\\\\define thisRemoveSeries()\\nSelect Series: <$select tiddler='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings' field='edit_series_list'><$list filter='[[$:/data/SeriesTitles]indexes[]]'><option><<currentTiddler>></option></$list></$select> <$button set='$:/data/SeriesTitles##$(SeriesToRemove)$'>Remove Series</$button>\\n\\\\end\\n\\n\\\\define thisRemoveGenre()\\nSelect Genre: <$select tiddler='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings' field='edit_genre_list'><$list filter='[[$:/data/BookGenres]indexes[]]'><option><<currentTiddler>></option></$list></$select> <$button set='$:/data/BookGenres##$(GenreToRemove)$'>Remove Genre</$button>\\n\\\\end\\n\\n\\\\define thisRemoveLocation()\\nSelect Location: <$select tiddler='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings' field='edit_location_list'><$list filter='[[$:/data/BookLocations]indexes[]]'><option><<currentTiddler>></option></$list></$select> <$button set='$:/data/BookLocations##$(LocationToRemove)$'>Remove Location</$button>\\n\\\\end\\n\\n\\\\define thisRemoveTag()\\nSelect Tag: <$select tiddler='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings' field='edit_tag_list'><$list filter='[[$:/data/BookTags]indexes[]]'><option><<currentTiddler>></option></$list></$select> <$button set='$:/data/BookTags##$(TagToRemove)$'>Remove Tag</$button>\\n\\\\end\\n\\n<$checkbox tiddler='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings' field='show_author' checked=true unchecked=false>Show Author</$checkbox><br>\\n<$checkbox tiddler='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings' field='show_series' checked=true unchecked=false>Show Series</$checkbox><br>\\n<$checkbox tiddler='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings' field='show_genre' checked=true unchecked=false>Show Genre</$checkbox><br>\\n<$checkbox tiddler='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings' field='show_location' checked=true unchecked=false>Show Location</$checkbox><br>\\n<$checkbox tiddler='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings' field='show_tags' checked=true unchecked=false>Show Tags</$checkbox><br>\\n\\n!!Edit Author List\\n<$set name=AuthorToRemove value={{$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!edit_author_list}}>\\n<<thisRemoveAuthor>>\\n</$set>\\n\\n!!Edit Series List\\n<$set name=SeriesToRemove value={{$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!edit_series_list}}>\\n<<thisRemoveSeries>>\\n</$set>\\n\\n!!Edit Genre List\\n<$set name=GenreToRemove value={{$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!edit_genre_list}}>\\n<<thisRemoveGenre>>\\n</$set>\\n\\n!!Edit Location List\\n<$set name=LocationToRemove value={{$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!edit_location_list}}>\\n<<thisRemoveLocation>>\\n</$set>\\n\\n!!Edit Tag List\\n<$set name=TagToRemove value={{$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!edit_tag_list}}>\\n<<thisRemoveTag>>\\n</$set>\"\n        },\n        \"$:/plugins/inmysocks/LibraryTracker/Library Tracker\": {\n            \"book_title\": \"Boneshaker\",\n            \"caption\": \"Library Tracker\",\n            \"created\": \"20141227230052741\",\n            \"list-after\": \"Bookmarks\",\n            \"modified\": \"20150203222646555\",\n            \"tags\": \"Dashboard\",\n            \"title\": \"$:/plugins/inmysocks/LibraryTracker/Library Tracker\",\n            \"text\": \"<<tabs \\\"[[$:/plugins/inmysocks/LibraryTracker/Book List]] [[$:/plugins/inmysocks/LibraryTracker/Add Books]] [[$:/plugins/inmysocks/LibraryTracker/Manage Books]] [[$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings]]\\\" \\\"[[$:/plugins/inmysocks/LibraryTracker/Book List]]\\\">>\"\n        },\n        \"$:/plugins/inmysocks/LibraryTracker/Manage Books\": {\n            \"book_title\": \"Foundation\",\n            \"caption\": \"Manage Books\",\n            \"created\": \"20141227230045301\",\n            \"modified\": \"20150202040126066\",\n            \"title\": \"$:/plugins/inmysocks/LibraryTracker/Manage Books\",\n            \"text\": \"\\\\define thisSeriesSelect()\\n<$select tiddler={{!!book_title}} field='series' default='None'>\\n<$list filter='[[$:/data/SeriesTitles]indexes[]sort[title]regexp:[(?i)$(thisSeriesSearch)$]]'>\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\n\\\\define thisGenreSelect()\\n<$select tiddler={{!!book_title}} field='genre' default='None'>\\n<$list filter='[[$:/data/BookGenres]indexes[]sort[title]regexp:[(?i)$(thisGenreSearch)$]]'>\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\n\\\\define thisAuthorSelect()\\n<$select tiddler={{!!book_title}} field='author'>\\n<$list filter='[[$:/data/BookAuthors]indexes[]sort[title]regexp:[(?i)$(thisAuthorSearch)$]]'>\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\n\\\\define thisLocationSelect()\\n<$select tiddler={{!!book_title}} field='location' default='None'>\\n<$list filter='[[$:/data/BookLocations]indexes[]sort[title]regexp:[(?i)$(thisLocationSearch)$]]'>\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\n\\\\define thisTagSelect()\\n<$select tiddler='$:/state/booktag' field='selected_tag'>\\n<$list filter='[[$:/data/BookTags]indexes[]sort[title]regexp:[(?i)$(thisTagSearch)$]]'>\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\n\\\\define thisBookSelect()\\n<$select field='book_title'>\\n<$list filter='[tag[Book]sort[title]regexp:[(?i)$(thisBookSearch)$]]'>\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\n\\\\define thisRemoveBookButton()\\n<$button popup='$:/state/test'>Remove Book</$button>\\n\\n<$reveal type=\\\"popup\\\" state=\\\"$:/state/test\\\">\\n<div class=\\\"tc-drop-down\\\">\\n\\n{{DeleteBookConfirmation}}\\n\\n</div>\\n</$reveal>\\n\\\\end\\n\\nBook: \\n<$set name=thisBookSearch value={{$:/state/newbook!!narrow_book_select}}>\\n<<thisBookSelect>></$set> <$edit-text tiddler='$:/state/newbook' field='narrow_book_select' placeholder='Narrow Book List'/> (<<thisRemoveBookButton>>)\\n<br>\\n\\n<!--Author-->\\n<$reveal type=match text=true state='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!show_author'>\\nAuthor: <$reveal state='$:/state/Library Tracker/add author' type=nomatch text='new'>\\n<$set name=thisAuthorSearch value={{$:/state/newbook!!narrow_author_select}}>\\n<<thisAuthorSelect>></$set> <$edit-text tiddler='$:/state/newbook' field='narrow_author_select' placeholder='Narrow Author List'/> (<$button set='$:/state/Library Tracker/add author' setTo='new'>New Author</$button>)\\n</$reveal>\\n<$reveal state='$:/state/Library Tracker/add author' type=match text='new'>\\n<$edit-text tiddler='$:/state/newbook' field='book_author' placeholder='Author'/><$button><$action-setfield $tiddler='$:/data/BookAuthors' $index={{$:/state/newbook!!book_author}} $value=1/><$action-setfield $tiddler='$:/state/newbook' $field='book_author' $value=''/>Add</$button><$button set='$:/state/Library Tracker/add author' setTo='notnew'>Done</$button>\\n</$reveal><br>\\n</$reveal>\\n<!--End Author-->\\n<!--Series-->\\n<$reveal type=match text=true state='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!show_series'>\\nSeries: <$reveal state='$:/state/Library Tracker/add series' type=nomatch text='new'>\\n<$set name=thisSeriesSearch value={{$:/state/newbook!!narrow_series_select}}>\\n<<thisSeriesSelect>></$set> <$edit-text tiddler='$:/state/newbook' field='narrow_series_select' placeholder='Narrow Series List'/>  (<$button set='$:/state/Library Tracker/add series' setTo='new'>New Series</$button>)\\n</$reveal>\\n<$reveal state='$:/state/Library Tracker/add series' type=match text='new'>\\n<$edit-text tiddler='$:/state/newbook' field='book_series' placeholder='Series Title'/><$button><$action-setfield $tiddler='$:/data/SeriesTitles' $index={{$:/state/newbook!!book_series}} $value=1/><$action-setfield $tiddler='$:/state/newbook' $field='book_series' $value=''/>Add</$button><$button set='$:/state/Library Tracker/add series' setTo='notnew'>Done</$button>\\n</$reveal><br>\\n</$reveal>\\n<!--End Series-->\\n<!--Genre-->\\n<$reveal type=match text=true state='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!show_genre'>\\nGenre: <$reveal state='$:/state/Library Tracker/add genre' type=nomatch text='new'>\\n<$set name=thisGenreSearch value={{$:/state/newbook!!narrow_genre_select}}>\\n<<thisGenreSelect>></$set> <$edit-text tiddler='$:/state/newbook' field='narrow_genre_select' placeholder='Narrow Genre List'/> (<$button set='$:/state/Library Tracker/add genre' setTo='new'>New Genre</$button>)\\n</$reveal>\\n<$reveal state='$:/state/Library Tracker/add genre' type=match text='new'>\\n<$edit-text tiddler='$:/state/newbook' field='book_genre' placeholder='Genre'/><$button><$action-setfield $tiddler='$:/data/BookGenres' $index={{$:/state/newbook!!book_genre}} $value=1/><$action-setfield $tiddler='$:/state/newbook' $field='book_genre' $value=''/>Add</$button><$button set='$:/state/Library Tracker/add genre' setTo='notnew'>Done</$button>\\n</$reveal><br>\\n</$reveal>\\n<!--End Genre-->\\n<!--Location-->\\n<$reveal type=match text=true state='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!show_location'>\\nLocation: <$reveal state='$:/state/Library Tracker/add location' type=nomatch text='new'>\\n<$set name=thisLocationSearch value={{$:/state/newbook!!narrow_location_select}}>\\n<<thisLocationSelect>></$set> <$edit-text tiddler='$:/state/newbook' field='narrow_location_select' placeholder='Narrow Location List'/> (<$button set='$:/state/Library Tracker/add location' setTo='new'>New  Location</$button>)\\n</$reveal>\\n<$reveal state='$:/state/Library Tracker/add location' type=match text='new'>\\n<$edit-text tiddler='$:/state/newbook' field='book_location' placeholder='Location'/><$button><$action-setfield $tiddler='$:/data/BookLocations' $index={{$:/state/newbook!!book_location}} $value=1/><$action-setfield $tiddler='$:/state/newbook' $field='book_location' $value=''/>Add</$button><$button set='$:/state/Library Tracker/add location' setTo='notnew'>Done</$button>\\n</$reveal>\\n</$reveal><br><br>\\n<!--End Location-->\\n\\n<!--Tags-->\\n<$reveal type=match text=true state='$:/plugins/inmysocks/LibraryTracker/Library Tracker Settings!!show_tags'>\\nTags (it will always be tagged with `Book` by default, this tag isn't listed here.):<br>\\n<$reveal type=match state='$:/state/newbook!!add_or_create_tag' text='create'>\\nNew Tag: <$edit-text tiddler='$:/state/booktag' field='tag_temp' placeholder='New Tag'/>\\n<$button>Create Tag\\n<$action-setfield $tiddler='$:/data/BookTags' $index={{$:/state/booktag!!tag_temp}} $value=1/>\\n<$action-setfield $tiddler='$:/state/booktag' $field='tag_temp' $value=''/>\\n</$button>\\n<$button set='$:/state/newbook!!add_or_create_tag' setTo='nocreate'>Done</$button><br>\\n</$reveal>\\n<$reveal type='nomatch' state='$:/state/newbook!!add_or_create_tag' text='create'>\\nTag to add: \\n<$set name=thisTagSearch value={{$:/state/newbook!!narrow_tag_select}}>\\n<<thisTagSelect>>\\n</$set>\\n<$fieldmangler tiddler={{!!book_title}}>\\n<$button>\\n<$action-sendmessage $message='tm-add-tag' $param={{$:/state/booktag!!selected_tag}}/>Add Tag\\n</$button>\\n<$edit-text tiddler='$:/state/newbook' field='narrow_tag_select' placeholder='Narrow Tag List'/>\\n(<$button set='$:/state/newbook!!add_or_create_tag' setTo='create'>New Tag</$button>)\\n</$fieldmangler>\\n<br>\\n</$reveal>\\nList of current tags:<br>\\n<$fieldmangler tiddler={{!!book_title}}>\\n<$list filter='[{!!book_title}tags[]]-Book'><$view field='title'/> <$button>Remove Tag<$action-sendmessage $message='tm-remove-tag' $param=<<currentTiddler>>/></$button><br> </$list>\\n</$fieldmangler>\\n</$reveal>\\n<!--End Tags-->\"\n        }\n    }\n}","name":"LibraryTracker"}