{"type":"application/json","text":"{\n    \"tiddlers\": {\n        \"$:/core/images/format-colortext\": {\n            \"text\": \"<svg class=\\\"tc-image-format-strikethrough tc-image-button\\\" width=\\\"22pt\\\" height=\\\"22pt\\\" viewBox=\\\"0 0 24 22\\\">\\n    <g fill-rule=\\\"evenodd\\\">\\n\\n<path d=\\\"M11 3L5.5 17h2.25l1.12-3h6.25l1.12 3h2.25L13 3h-2zm-1.38 9L12 5.67 14.38 12H9.62z\\\" fill={{$:/palettes/Editor##alt-text}} />\\n\\n<path d=\\\"M0 20h24v4H0z\\\" fill={{$:/palettes/Editor##alt-text}} transform=\\\"matrix(0., 0, 0, 0, -3.41595, 3.41595)\\\"/>\\n\\n    </g>\\n</svg>\",\n            \"created\": \"20160308201122806\",\n            \"modified\": \"20160323163121312\",\n            \"tags\": \"$:/tags/Image\",\n            \"title\": \"$:/core/images/format-colortext\"\n        },\n        \"$:/core/ui/TextEditorToolbar/colortext\": {\n            \"text\": \"<$action-sendmessage\\n\\t$message=\\\"tm-edit-text-operation\\\"\\n\\t$param=\\\"wrap-selection\\\"\\n\\tprefix=\\\"@@color:{{$:/palettes/Editor##alt-text}};\\\"\\n\\tsuffix=\\\"@@\\\"\\n/>\\n\",\n            \"caption\": \"{{$:/language/Buttons/ColorText/Caption}}\",\n            \"condition\": \"[all[current]!is[image]]\",\n            \"created\": \"20160308201549795\",\n            \"creator\": \"Stephen\",\n            \"description\": \"{{$:/language/Buttons/ColorText/Hint}}\",\n            \"icon\": \"$:/core/images/format-colortext\",\n            \"list-after\": \"$:/core/ui/TextEditorToolbar/preview\",\n            \"modified\": \"20160505115508026\",\n            \"modifier\": \"Stephen\",\n            \"shortcuts\": \"((colortext))\",\n            \"tags\": \"$:/tags/EditorToolbar\",\n            \"title\": \"$:/core/ui/TextEditorToolbar/colortext\"\n        },\n        \"$:/language/Buttons/ColorText/Caption\": {\n            \"text\": \"Color Text\",\n            \"created\": \"20160224030859261\",\n            \"creator\": \"Stephen\",\n            \"modified\": \"20160224030926535\",\n            \"modifier\": \"Stephen\",\n            \"tags\": \"ske\",\n            \"title\": \"$:/language/Buttons/ColorText/Caption\"\n        },\n        \"$:/language/Buttons/ColorText/Hint\": {\n            \"text\": \"Color the highlighted selection\",\n            \"created\": \"20160224030934985\",\n            \"creator\": \"Stephen\",\n            \"modified\": \"20160224031023656\",\n            \"modifier\": \"Stephen\",\n            \"tags\": \"ske\",\n            \"title\": \"$:/language/Buttons/ColorText/Hint\"\n        },\n        \"$:/palettes/Editor\": {\n            \"text\": \"alt-text: #ee82fd\\nhighlight: #999999\",\n            \"created\": \"20160219032556001\",\n            \"creator\": \"Stephen\",\n            \"description\": \"My editor colors\",\n            \"modified\": \"20160402021839352\",\n            \"modifier\": \"Stephen\",\n            \"name\": \"BlueOne\",\n            \"title\": \"$:/palettes/Editor\",\n            \"type\": \"application/x-tiddler-dictionary\"\n        },\n        \"$:/core/images/format-colourpicker\": {\n            \"text\": \"<svg class=\\\"tc-image-format-strikethrough tc-image-button\\\" width=\\\"22pt\\\" height=\\\"22pt\\\" viewBox=\\\"0 0 32 32\\\">\\n    <g fill-rule=\\\"evenodd\\\">\\n<rect x=\\\"3.18037\\\" y=\\\"4.16196\\\" style=\\\"stroke-width: 1px; vector-effect: non-scaling-stroke;\\\" stroke=\\\"black\\\" id=\\\"e2_rectangle\\\" width=\\\"7.14601\\\" height=\\\"6.79264\\\" transform=\\\"matrix(1, 0, 0, 1, -0.078125, 0)\\\" fill=\\\"red\\\"/><rect x=\\\"12.3681\\\" y=\\\"4.43681\\\" style=\\\"stroke-width: 1px; vector-effect: non-scaling-stroke;\\\" stroke=\\\"black\\\" id=\\\"e3_rectangle\\\" width=\\\"7.14601\\\" height=\\\"6.79264\\\" fill=\\\"orange\\\" transform=\\\"matrix(1, 0, 0, 1, 0.078125, -0.277344)\\\"/><rect x=\\\"21.7129\\\" y=\\\"4.5546\\\" style=\\\"stroke-width: 1px; vector-effect: non-scaling-stroke;\\\" stroke=\\\"black\\\" id=\\\"e4_rectangle\\\" width=\\\"7.14601\\\" height=\\\"6.79264\\\" fill=\\\"yellow\\\" transform=\\\"matrix(1, 0, 0, 1, 0, -0.394531)\\\"/><rect x=\\\"3.10186\\\" y=\\\"13.0748\\\" style=\\\"stroke-width: 1px; vector-effect: non-scaling-stroke;\\\" stroke=\\\"black\\\" id=\\\"e5_rectangle\\\" width=\\\"7.14601\\\" height=\\\"6.79264\\\" fill=\\\"black\\\" transform=\\\"matrix(1, 0, 0, 1, 0, 0)\\\"/><rect x=\\\"12.7608\\\" y=\\\"13.1141\\\" style=\\\"stroke-width: 1px; vector-effect: non-scaling-stroke;\\\" stroke=\\\"black\\\" id=\\\"e6_rectangle\\\" width=\\\"7.14601\\\" height=\\\"6.79264\\\" fill=\\\"white\\\" transform=\\\"matrix(1, 0, 0, 1, -0.316406, 0)\\\"/><rect x=\\\"21.6737\\\" y=\\\"13.2319\\\" style=\\\"stroke-width: 1px; vector-effect: non-scaling-stroke;\\\" stroke=\\\"black\\\" id=\\\"e7_rectangle\\\" width=\\\"7.14601\\\" height=\\\"6.79264\\\" fill=\\\"brown\\\" transform=\\\"matrix(1, 0, 0, 1, 0.0390625, 0)\\\"/><rect x=\\\"3.53382\\\" y=\\\"22.2233\\\" style=\\\"stroke-width: 1px; vector-effect: non-scaling-stroke;\\\" stroke=\\\"black\\\" id=\\\"e8_rectangle\\\" width=\\\"7.14601\\\" height=\\\"6.79264\\\" fill=\\\"purple\\\" transform=\\\"matrix(1, 0, 0, 1, -0.433594, 0)\\\"/><rect x=\\\"12.5252\\\" y=\\\"22.1055\\\" style=\\\"stroke-width: 1px; vector-effect: non-scaling-stroke;\\\" stroke=\\\"black\\\" id=\\\"e9_rectangle\\\" width=\\\"7.14601\\\" height=\\\"6.79264\\\" fill=\\\"blue\\\" transform=\\\"matrix(1, 0, 0, 1, -0.078125, 0)\\\"/><rect x=\\\"21.5951\\\" y=\\\"22.0662\\\" style=\\\"stroke-width: 1px; vector-effect: non-scaling-stroke;\\\" stroke=\\\"black\\\" id=\\\"e10_rectangle\\\" width=\\\"7.14601\\\" height=\\\"6.79264\\\" fill=\\\"green\\\" transform=\\\"matrix(1, 0, 0, 1, 0.117188, 0)\\\"/>\\n    </g>\\n</svg>\",\n            \"created\": \"20160308222135787\",\n            \"modified\": \"20160308222237936\",\n            \"tags\": \"$:/tags/Image\",\n            \"title\": \"$:/core/images/format-colourpicker\"\n        },\n        \"$:/core/ui/TextEditorToolbar/Colour-Picker\": {\n            \"text\": \"\",\n            \"caption\": \"Colour Picker\",\n            \"condition\": \"[all[current]!is[image]]\",\n            \"created\": \"20160308222708458\",\n            \"description\": \"Pick a colour\",\n            \"dropdown\": \"$:/sk/ColourPickToolbar\",\n            \"icon\": \"$:/core/images/format-colourpicker\",\n            \"list-after\": \"$:/core/ui/TextEditorToolbar/highlight\",\n            \"modified\": \"20160327030731065\",\n            \"tags\": \"$:/tags/EditorToolbar\",\n            \"title\": \"$:/core/ui/TextEditorToolbar/Colour-Picker\"\n        },\n        \"$:/sk/ColourDropDown\": {\n            \"text\": \"<style>\\n.dropdown {\\n    position: relative;\\n    display: inline-block;\\n}\\n\\n.dropdown-content {\\n    display: none;\\n    position: absolute;\\n    min-width: 200px;\\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\\n    padding: 5px 12px;\\n}\\n\\n.dropdown:hover .dropdown-content {\\n    display: block;\\n}\\n</style><div class=\\\"dropdown\\\"><span>{{$:/core/images/format-colourpicker}}</span><div class=\\\"dropdown-content\\\">{{$:/sk/ColourPickToolbar}}</div></div>\\n\",\n            \"caption\": \"{{$:/language/Buttons/Colourpick/Caption}}\",\n            \"created\": \"20160226170158102\",\n            \"creator\": \"Stephen\",\n            \"description\": \"{{$:/language/Buttons/Colourpick/Hint}}\",\n            \"modified\": \"20160328122306350\",\n            \"modifier\": \"Stephen\",\n            \"tags\": \"ske\",\n            \"title\": \"$:/sk/ColourDropDown\"\n        },\n        \"$:/sk/ColourPickToolbar\": {\n            \"text\": \"\\\\define lingo-base() $:/language/ControlPanel/Palette/Editor/\\n\\\\define describePaletteColour(colour)\\n<$transclude tiddler=\\\"$:/language/Docs/PaletteColours/$colour$\\\"><$text text=\\\"$colour$\\\"/></$transclude>\\n\\\\end\\n<$set name=\\\"currentTiddler\\\" value=\\\"$:/palettes/Editor\\\">\\n<table  class=\\\"noborders\\\"><tbody><$list filter=\\\"[all[current]indexes[]]\\\" variable=\\\"colourName\\\"><tr><td>\\n<$macrocall $name=\\\"describePaletteColour\\\" colour=<<colourName>>/></td>\\n<td><$edit-text index=<<colourName>> type=\\\"color\\\" tag=\\\"input\\\"/></td></tr></$list></tbody></table>\\n</$set>\",\n            \"created\": \"20160224130815967\",\n            \"creator\": \"Stephen\",\n            \"modified\": \"20160302035820782\",\n            \"modifier\": \"Stephen\",\n            \"tags\": \"ske exclude\",\n            \"title\": \"$:/sk/ColourPickToolbar\"\n        },\n        \"$:/core/images/format-highlight\": {\n            \"text\": \"<svg class=\\\"tc-image-format-strikethrough tc-image-button\\\" width=\\\"22pt\\\" height=\\\"22pt\\\" viewBox=\\\"0 0 100 100\\\">\\n    <g fill-rule=\\\"evenodd\\\">\\n\\n<path d=\\\"M47.444000244140625,64.54199981689453l17.49199676513672,-17.810001373291016c0.28400421142578125,-0.2879981994628906,0.33300018310546875,-0.5879974365234375,0.32900238037109375,-0.7869987487792969c-0.009002685546875,-0.197998046875,-0.08300018310546875,-0.4949989318847656,-0.38800048828125,-0.7519989013671875l-37.07599639892578,-32.14400100708008c-0.47100067138671875,-0.4089994430541992,-1.2460002899169922,-0.48600006103515625,-1.8410015106201172,-0.1829996109008789c-0.1399993896484375,0.06799983978271484,-0.2709999084472656,0.1639995574951172,-0.37599945068359375,0.2719993591308594l-12.434999465942383,12.664002418518066c-0.5539999008178711,0.5629997253417969,-0.5790004730224609,1.6229991912841797,-0.05000019073486328,2.2129993438720703l32.80500030517578,36.490997314453125c0.5460014343261719,0.6100006103515625,1.1669998168945312,0.41100311279296875,1.5400009155273438,0.03600311279296875Z\\\" id=\\\"svg_1\\\" stroke-width=\\\"1.5\\\" stroke=\\\"#000\\\" fill={{$:/palettes/Editor##highlight}} />\\n\\n  <path d=\\\"m91.361,70.514999c-0.264999,-2.648003 -1.417,-5.224998 -3.456001,-7.246998l-1.771996,-1.732002c-1.299004,-1.278999 -2.084,-2.926998 -2.238014,-4.616001c2.068001,-4.543999 1.215004,-10.086998 -2.511986,-13.743999c-0.016014,-0.014999 -0.213013,-0.212997 -0.230003,-0.229c-1.310997,-1.286999 -2.855003,-2.230999 -4.514999,-2.810997c-0.812004,-1.721001 -1.982002,-3.274002 -3.444,-4.534l-37.074001,-32.148001c-4.344,-3.764 -10.735998,-4.531 -15.907999,-1.906c-1.368999,0.696 -2.608,1.6 -3.686001,2.695l-12.444999,12.672001c-5.279,5.391998 -5.457,14 -0.416,19.587997l32.795999,36.487999c1.352001,1.507004 2.977001,2.652 4.742001,3.424004c0.632999,1.645996 1.630001,3.198997 2.995003,4.548996c3.676998,3.604004 9.197998,4.508003 13.824997,2.297005c1.690002,0.119995 3.351002,0.875999 4.646,2.149002l1.792999,1.764c1.997002,1.959 4.560013,3.089996 7.214005,3.321999l0.998001,0.984001c3.82,3.743996 9.817986,4.670998 14.589996,2.246986c0.002998,0 0.005997,-0.003998 0.010002,-0.003998l4.473,-2.278999c3.272987,-1.674004 5.470001,-4.657013 6.017998,-8.191002c0.549004,-3.538002 -0.632996,-7.053001 -3.278,-9.670998l-3.125999,-3.067001l0,0.000008zm-47.825001,-3.879997l-32.797999,-36.490002c-1.667,-1.848 -1.601,-4.804001 0.137,-6.578001l12.436001,-12.66c1.74,-1.771 4.702999,-1.894 6.577999,-0.269l37.075996,32.145001c1.880005,1.625 1.993004,4.404999 0.249001,6.177998l-17.497997,17.815002c-1.737999,1.771996 -4.521,1.708 -6.18,-0.140999zm43.885998,16.340996l-4.461998,2.271004c-1.102997,0.560997 -2.737,0.313995 -3.623001,-0.556l-2.962997,-2.913002c-0.056,-0.054001 -0.095001,-0.113998 -0.143997,-0.174004l6.298996,-6.406998c0.058998,0.045998 0.120003,0.082001 0.175003,0.139l5.124001,5.028999c0.879997,0.875 0.701996,2.046013 -0.406013,2.611l0.000008,0zm-12.709999,-29.227997l-0.172997,0.174999c-0.760002,5.029999 0.902,10.438 4.924995,14.393002l1.793015,1.753998c0.879997,0.872002 0.895996,2.307999 0.026985,3.195l-6.966995,7.088997c-0.870003,0.886002 -2.306,0.901001 -3.191002,0.032013l-1.789001,-1.759003c-4.021996,-3.956985 -9.466,-5.512985 -14.473,-4.668999l-0.178997,0.181c-1.043003,1.061005 -2.766003,1.076004 -3.831001,0.034004l-0.188999,-0.182999c-1.060001,-1.050995 -1.081001,-2.771004 -0.035999,-3.828995l20.027996,-20.392998c1.042999,-1.063999 2.771004,-1.080002 3.834999,-0.036999l0.183014,0.182999c1.066986,1.047001 1.078987,2.767998 0.036987,3.834l0,-0.000019z\\\" id=\\\"svg_3\\\" stroke-width=\\\"1.5\\\" stroke=\\\"#000\\\" fill={{$:/palettes/Editor##highlight}} />\\n\\n    </g>\\n</svg>\",\n            \"created\": \"20160309032359242\",\n            \"modified\": \"20160309033009206\",\n            \"tags\": \"$:/tags/Image\",\n            \"title\": \"$:/core/images/format-highlight\"\n        },\n        \"$:/core/ui/TextEditorToolbar/highlight\": {\n            \"text\": \"<$action-sendmessage\\n\\t$message=\\\"tm-edit-text-operation\\\"\\n\\t$param=\\\"wrap-selection\\\"\\n\\tprefix=\\\"@@background-color:{{$:/palettes/Editor##highlight}};\\\"\\n\\tsuffix=\\\"@@\\\"\\n/>\\n\",\n            \"caption\": \"{{$:/language/Buttons/Highlight/Caption}}\",\n            \"condition\": \"[all[current]!is[image]]\",\n            \"created\": \"20160309032623968\",\n            \"creator\": \"Stephen\",\n            \"description\": \"{{$:/language/Buttons/Highlight/Hint}}\",\n            \"icon\": \"$:/core/images/format-highlight\",\n            \"list-after\": \"$:/core/ui/TextEditorToolbar/colortext\",\n            \"modified\": \"20160505115545257\",\n            \"modifier\": \"Stephen\",\n            \"shortcuts\": \"((highlight))\",\n            \"tags\": \"$:/tags/EditorToolbar\",\n            \"title\": \"$:/core/ui/TextEditorToolbar/highlight\"\n        },\n        \"$:/language/Buttons/Highlight/Caption\": {\n            \"text\": \"highlight\",\n            \"created\": \"20150202183727182\",\n            \"creator\": \"Stephen\",\n            \"modified\": \"20150204201936988\",\n            \"modifier\": \"Stephen\",\n            \"tags\": \"ske\",\n            \"title\": \"$:/language/Buttons/Highlight/Caption\"\n        },\n        \"$:/language/Buttons/Highlight/Hint\": {\n            \"text\": \"highlight the selected text\",\n            \"created\": \"20150202182722936\",\n            \"creator\": \"Stephen\",\n            \"modified\": \"20150204201951251\",\n            \"modifier\": \"Stephen\",\n            \"tags\": \"ske\",\n            \"title\": \"$:/language/Buttons/Highlight/Hint\"\n        },\n        \"$:/core/modules/parsers/wikiparser/rules/styleinline.js\": {\n            \"text\": \"/*\\\\\\ntitle: $:/core/modules/parsers/wikiparser/rules/styleinline.js\\ntype: application/javascript\\nmodule-type: wikirule\\n\\nWiki text inline rule for assigning styles and classes to inline runs. For example:\\n\\n```\\n@@.myClass This is some text with a class@@\\n@@background-color:red;This is some text with a background colour@@\\n@@width:100px;.myClass This is some text with a class and a width@@\\n```\\n\\n\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nexports.name = \\\"styleinline\\\";\\nexports.types = {inline: true};\\n\\nexports.init = function(parser) {\\n\\tthis.parser = parser;\\n\\t// Regexp to match\\n\\tthis.matchRegExp = /@@((?:[^\\\\.\\\\r\\\\n\\\\s:]+:[^\\\\r\\\\n;]+;)+)?(\\\\.(?:[^\\\\r\\\\n\\\\s]+)\\\\s+)?/mg;\\n};\\n\\nexports.parse = function() {\\n\\tvar reEnd = /@@/g;\\n\\t// Get the styles and class\\n\\tvar stylesString = this.match[1],\\n\\t\\tclassString = this.match[2] ? this.match[2].split(\\\".\\\").join(\\\" \\\") : undefined;\\n\\t// Move past the match\\n\\tthis.parser.pos = this.matchRegExp.lastIndex;\\n\\t// Parse the run up to the terminator\\n\\tvar tree = this.parser.parseInlineRun(reEnd,{eatTerminator: true});\\n\\t// Return the classed span\\n\\n//sk additions for parsing inline style with library lookup\\n// convert {{$:/palettes/Editor##alt-text}} to color and substitute back into the inline style\\n\\n//Error trap for normal inline styles\\ntry{\\nvar n = stylesString.indexOf(\\\"{{\\\"); \\n}\\ncatch(err){\\nn=0;}\\n\\nif (n>0) {\\n\\n// Only do this if parsing a library lookup\\n\\n    var re = /(.*?)\\\\{\\\\{(.*?)##(.*?)\\\\}\\\\}(.*?);/gm; \\n    var str = stylesString;\\n    var subst = '$2##$3'; \\n    var result = str.replace(re, subst);\\n\\n//result is the address we'll use for the lookup\\n\\nvar retrcolour=$tw.wiki.getTextReference(result);\\n\\n    var subst = '$1'+retrcolour+';'; \\n\\nstylesString=str.replace(re, subst);\\n\\n};\\n\\n//end sk additions\\n\\n\\tvar node = {\\n\\t\\ttype: \\\"element\\\",\\n\\t\\ttag: \\\"span\\\",\\n\\t\\tattributes: {\\n\\t\\t\\t\\\"class\\\": {type: \\\"string\\\", value: \\\"tc-inline-style\\\"}\\n\\t\\t},\\n\\t\\tchildren: tree\\n\\t};\\n\\tif(classString) {\\n\\t\\t$tw.utils.addClassToParseTreeNode(node,classString);\\n\\t}\\n\\tif(stylesString) {\\n\\t\\t$tw.utils.addAttributeToParseTreeNode(node,\\\"style\\\",stylesString);\\n\\t}\\n\\treturn [node];\\n};\\n\\n})();\\n\",\n            \"created\": \"20160229195901635\",\n            \"creator\": \"Stephen\",\n            \"modified\": \"20160301182549308\",\n            \"modifier\": \"Stephen\",\n            \"module-type\": \"wikirule\",\n            \"tags\": \"ske\",\n            \"title\": \"$:/core/modules/parsers/wikiparser/rules/styleinline.js\",\n            \"type\": \"application/javascript\"\n        },\n        \"$:/config/ShortcutInfo/colortext\": {\n            \"text\": \"{{$:/language/Buttons/ColorText/Hint}}\",\n            \"created\": \"20160505025404285\",\n            \"creator\": \"Stephen\",\n            \"modified\": \"20160505025425976\",\n            \"modifier\": \"Stephen\",\n            \"tags\": \"\",\n            \"title\": \"$:/config/ShortcutInfo/colortext\"\n        },\n        \"$:/config/shortcuts/colortext\": {\n            \"text\": \"ctrl-alt-C\",\n            \"created\": \"20160505025306327\",\n            \"creator\": \"Stephen\",\n            \"modified\": \"20160505121829971\",\n            \"modifier\": \"Stephen\",\n            \"tags\": \"\",\n            \"title\": \"$:/config/shortcuts/colortext\"\n        },\n        \"$:/config/ShortcutInfo/highlight\": {\n            \"text\": \"{{$:/language/Buttons/Highlight/Hint}}\",\n            \"created\": \"20160505025332862\",\n            \"creator\": \"Stephen\",\n            \"modified\": \"20160505025357551\",\n            \"modifier\": \"Stephen\",\n            \"tags\": \"\",\n            \"title\": \"$:/config/ShortcutInfo/highlight\"\n        },\n        \"$:/config/shortcuts/highlight\": {\n            \"text\": \"ctrl-alt-I\",\n            \"created\": \"20160505025246382\",\n            \"creator\": \"Stephen\",\n            \"modified\": \"20160505122138246\",\n            \"modifier\": \"Stephen\",\n            \"tags\": \"\",\n            \"title\": \"$:/config/shortcuts/highlight\"\n        }\n    }\n}","author":"Stephen Kimmel","description":"Color Text and Highlight","list":"Color List","plugin-type":"plugin","title":"$:/plugins/sk/ColorText","version":"0.0.4","name":"ColorText"}