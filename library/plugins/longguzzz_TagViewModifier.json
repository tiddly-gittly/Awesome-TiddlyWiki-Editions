{"created":"20220329090713276","creator":"Longguzzz","title":"$:/plugins/longguzzz/TagViewModifier","text":"{\n    \"tiddlers\": {\n        \"$:/config/ui/ViewTemplate\": {\n            \"created\": \"20220329080948702\",\n            \"creator\": \"Longguzzz\",\n            \"text\": \"$:/plugins/longguzzz/TagViewModifier/ui/ViewTemplate\",\n            \"title\": \"$:/config/ui/ViewTemplate\",\n            \"modified\": \"20220329085400446\",\n            \"modifier\": \"Longguzzz\",\n            \"revision\": \"1\",\n            \"bag\": \"default\"\n        },\n        \"$:/plugins/longguzzz/TagViewModifier/CSS\": {\n            \"created\": \"20220329081321562\",\n            \"creator\": \"Longguzzz\",\n            \"text\": \".tc-edit-tags {\\n    border:unset;\\n    padding:0px;\\n}\\ndiv.tc-edit-tags > span{\\n    padding-right:0px;\\n}\\n\\ndiv.tc-edit-tags  .tc-add-tag-name ,\\ndiv.tc-edit-tags .tc-add-tag-button,\\ndiv.tc-edit-tags .tc-add-tag-button button{\\n    margin:0px;\\n    padding:0px;\\n}\\ndiv.tc-edit-tags .tc-add-tag-button{\\n    position:relative;\\n    left:-8px;\\n}\\n\\ndiv.tc-edit-tags  .tc-add-tag-name {\\n    width:80px;\\n}\\n.tc-edit-add-tag, .tc-edit-add-tag > div{\\n    width:160px;\\n}\\n.tc-edit-add-tag .tc-add-tag-name input {\\n    width:100px;\\n    line-height:1em;\\n    padding:0px;\\n}\\n\\ndiv.tc-edit-tags button.tc-btn-dropdown {\\n position: relative;\\n    left:-0.8em;\\n        top:-0.8em;\\n    width:0.8em;\\n        margin:0px;\\n    padding:0px;\\n}\\n\\n.tc-editor-toolbar {\\n    margin-top:0px !important;\\n}\",\n            \"tags\": \"$:/tags/Stylesheet\",\n            \"title\": \"$:/plugins/longguzzz/TagViewModifier/CSS\",\n            \"modified\": \"20220329085425406\",\n            \"modifier\": \"Longguzzz\",\n            \"type\": \"text/css\",\n            \"revision\": \"2\",\n            \"bag\": \"default\"\n        },\n        \"$:/plugins/longguzzz/TagViewModifier/TagViewAndEdit\": {\n            \"created\": \"20220329080423404\",\n            \"creator\": \"Longguzzz\",\n            \"text\": \"\\\\whitespace trim\\n\\n\\\\define lingo-base() $:/language/EditTemplate/\\n\\n\\\\define tag-styles()\\nbackground-color:$(backgroundColor)$;\\nfill:$(foregroundColor)$;\\ncolor:$(foregroundColor)$;\\n\\\\end\\n\\n\\\\define tag-body-inner(colour,fallbackTarget,colourA,colourB,icon,tagField:\\\"tags\\\")\\n\\\\whitespace trim\\n<$vars foregroundColor=<<contrastcolour target:\\\"\\\"\\\"$colour$\\\"\\\"\\\" fallbackTarget:\\\"\\\"\\\"$fallbackTarget$\\\"\\\"\\\" colourA:\\\"\\\"\\\"$colourA$\\\"\\\"\\\" colourB:\\\"\\\"\\\"$colourB$\\\"\\\"\\\">> backgroundColor=\\\"\\\"\\\"$colour$\\\"\\\"\\\">\\n<$transclude tiddler=\\\"\\\"\\\"$icon$\\\"\\\"\\\"/>\\n<$set name=\\\"transclusion\\\" value=<<currentTiddler>>>\\n<$macrocall $name=\\\"tag-pill-body\\\" tag=<<currentTiddler>> icon={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerIconFilter]!is[draft]get[text]] }}} colour={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerColourFilter]!is[draft]get[text]] }}} palette={{$:/palette}} element-tag=\\\"\\\"\\\"$button\\\"\\\"\\\" element-attributes=\\\"\\\"\\\"popup=<<qualify \\\"$:/state/popup/tag\\\">> dragFilter='[all[current]tagging[]]' tag='span'\\\"\\\"\\\"/>\\n<$reveal state=<<qualify \\\"$:/state/popup/tag\\\">> type=\\\"popup\\\" position=\\\"below\\\" animate=\\\"yes\\\" class=\\\"tc-drop-down\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<div style=\\\"display:flex\\\">\\n<$transclude tiddler=\\\"$:/core/ui/ListItemTemplate\\\"/><$button class=\\\"tc-btn-invisible tc-remove-tag-button\\\" style=<<tag-styles>>><$action-listops $tiddler=<<saveTiddler>> $field=<<__tagField__>> $subfilter=\\\"-[{!!title}]\\\"/>{{$:/core/images/close-button}}</$button>\\n</div>\\n</$set>\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/TagDropdown]!has[draft.of]]\\\" variable=\\\"listItem\\\"> \\n<$transclude tiddler=<<listItem>>/> \\n</$list>\\n<hr>\\n<$macrocall $name=\\\"list-tagged-draggable\\\" tag=<<currentTiddler>>/>\\n</$reveal>\\n</$set>\\n</$vars>\\n\\\\end\\n\\n\\\\define tag-body(colour,palette,icon,tagField:\\\"tags\\\")\\n<$macrocall $name=\\\"tag-body-inner\\\" colour=\\\"\\\"\\\"$colour$\\\"\\\"\\\" fallbackTarget={{$palette$##tag-background}} colourA={{$palette$##foreground}} colourB={{$palette$##background}} icon=\\\"\\\"\\\"$icon$\\\"\\\"\\\" tagField=<<__tagField__>>/>\\n\\\\end\\n\\n\\\\define edit-tags-template(tagField:\\\"tags\\\")\\n\\\\whitespace trim\\n<div class=\\\"tc-edit-tags\\\">\\n<$list filter=\\\"[list[!!$tagField$]sort[title]]\\\" storyview=\\\"pop\\\">\\n<$macrocall $name=\\\"tag-body\\\" colour={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerColourFilter]!is[draft]get[text]] }}} palette={{$:/palette}} icon={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerIconFilter]!is[draft]get[text]] }}} tagField=<<__tagField__>>/>\\n</$list>\\n<$vars tabIndex={{$:/config/EditTabIndex}} cancelPopups=\\\"yes\\\">\\n<$macrocall $name=\\\"tag-picker\\\" tagField=<<__tagField__>>/>\\n</$vars>\\n</div>\\n\\\\end\\n<$set name=\\\"saveTiddler\\\" value=<<currentTiddler>>>\\n<$macrocall $name=\\\"edit-tags-template\\\" tagField=<<tagField>>/>\\n</$set>\",\n            \"tags\": \"$:/tags/ViewTemplate\",\n            \"title\": \"$:/plugins/longguzzz/TagViewModifier/TagViewAndEdit\",\n            \"modified\": \"20220329085459697\",\n            \"modifier\": \"Longguzzz\",\n            \"revision\": \"1\",\n            \"bag\": \"default\"\n        },\n        \"$:/plugins/longguzzz/TagViewModifier/ui/ViewTemplate\": {\n            \"created\": \"20220329080715318\",\n            \"creator\": \"Longguzzz\",\n            \"text\": \"\\\\whitespace trim\\n\\\\define folded-state()\\n$:/state/folded/$(currentTiddler)$\\n\\\\end\\n\\\\define cancel-delete-tiddler-actions(message) <$action-sendmessage $message=\\\"tm-$message$-tiddler\\\"/>\\n\\\\import [all[shadows+tiddlers]tag[$:/tags/Macro/View]!has[draft.of]]\\n<$vars storyTiddler=<<currentTiddler>> tiddlerInfoState=<<qualify \\\"$:/state/popup/tiddler-info\\\">>>\\n<div data-tiddler-title=<<currentTiddler>> data-tags={{!!tags}} class={{{ tc-tiddler-frame tc-tiddler-view-frame [<currentTiddler>is[tiddler]then[tc-tiddler-exists]] [<currentTiddler>is[missing]!is[shadow]then[tc-tiddler-missing]] [<currentTiddler>is[shadow]then[tc-tiddler-exists tc-tiddler-shadow]] [<currentTiddler>is[shadow]is[tiddler]then[tc-tiddler-overridden-shadow]] [<currentTiddler>is[system]then[tc-tiddler-system]] [{!!class}] [<currentTiddler>tags[]encodeuricomponent[]addprefix[tc-tagged-]] +[join[ ]] }}}>\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!has[draft.of]] -[tag[$:/longguzzz/ExcludeViewTemplate]]\\\" variable=\\\"listItem\\\">\\n<$transclude tiddler=<<listItem>>/>\\n</$list>\\n</div>\\n</$vars>\",\n            \"tags\": \"\",\n            \"title\": \"$:/plugins/longguzzz/TagViewModifier/ui/ViewTemplate\",\n            \"modified\": \"20220329085358112\",\n            \"modifier\": \"Longguzzz\",\n            \"revision\": \"3\",\n            \"bag\": \"default\"\n        },\n        \"$:/plugins/longguzzz/TagViewModifier/readme\": {\n            \"created\": \"20220329085527930\",\n            \"creator\": \"Longguzzz\",\n            \"text\": \"为了减少core的修改，本插件把TagViewModifier当作一个tiddler上可配置的部件，而不是修改原有的tiddler tag部分。\\n\\n所以，安装后还需要如下操作：\\n\\n# 通过搜索打开shadow tiddler  `$:/core/ui/ViewTemplate/tags`, 为其添加标签`$:/longguzzz/ExcludeViewTemplate`, 这样就会在tiddler中排除原有的tag。\\n# 继续点击shadow tiddler `$:/core/ui/ViewTemplate/tags` 的 `$:/tags/ViewTemplate` 标签，将 `$:/plugins/longguzzz/TagViewModifier/TagViewAndEdit` 拖拽至 `$:/core/ui/ViewTemplate/tags` 上方，这样就可以与原来的tag显示在同一个位置。\",\n            \"tags\": \"\",\n            \"title\": \"$:/plugins/longguzzz/TagViewModifier/readme\",\n            \"modified\": \"20220329091305423\",\n            \"modifier\": \"Longguzzz\"\n        }\n    }\n}","type":"application/json","author":"longguzzz","description":"整合系统的tag组件","name":"TagViewModifier","plugin-type":"plugin","version":"0.0.3","list":"readme","modified":"20220329090715835","modifier":"Longguzzz"}